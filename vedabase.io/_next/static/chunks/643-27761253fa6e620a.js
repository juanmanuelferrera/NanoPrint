"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[643],{2278:(e,t,n)=>{n.d(t,{vC:()=>E});var o=n(5316);function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(null,arguments)}n(3528);var s=["shift","alt","meta","mod","ctrl"],i={esc:"escape",return:"enter",".":"period",",":"comma","-":"slash"," ":"space","`":"backquote","#":"backslash","+":"bracketright",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function a(e){return(e&&i[e]||e||"").trim().toLowerCase().replace(/key|digit|numpad|arrow/,"")}function l(e,t){return void 0===t&&(t=","),e.split(t)}function c(e,t,n){void 0===t&&(t="+");var o=e.toLocaleLowerCase().split(t).map(function(e){return a(e)}),i={alt:o.includes("alt"),ctrl:o.includes("ctrl")||o.includes("control"),shift:o.includes("shift"),meta:o.includes("meta"),mod:o.includes("mod")},l=o.filter(function(e){return!s.includes(e)});return r({},i,{keys:l,description:n,hotkey:e})}"undefined"!=typeof document&&(document.addEventListener("keydown",function(e){void 0!==e.key&&f([a(e.key),a(e.code)])}),document.addEventListener("keyup",function(e){void 0!==e.key&&v([a(e.key),a(e.code)])})),"undefined"!=typeof window&&window.addEventListener("blur",function(){u.clear()});var u=new Set;function d(e){return Array.isArray(e)}function f(e){var t=Array.isArray(e)?e:[e];u.has("meta")&&u.forEach(function(e){return!s.includes(e)&&u.delete(e.toLowerCase())}),t.forEach(function(e){return u.add(e.toLowerCase())})}function v(e){var t=Array.isArray(e)?e:[e];"meta"===e?u.clear():t.forEach(function(e){return u.delete(e.toLowerCase())})}function p(e,t){void 0===t&&(t=!1);var n=e.target,o=e.composed,r=null;return(r=n.tagName&&!n.tagName.startsWith("-")&&n.tagName.includes("-")&&o?e.composedPath()[0]&&e.composedPath()[0].tagName:n&&n.tagName,d(t))?!!(r&&t&&t.some(function(e){var t;return e.toLowerCase()===(null==(t=r)?void 0:t.toLowerCase())})):!!(r&&t&&t)}var h=function(e,t,n){void 0===n&&(n=!1);var o,r=t.alt,s=t.meta,i=t.mod,l=t.shift,c=t.ctrl,f=t.keys,v=e.key,p=e.code,h=e.ctrlKey,y=e.metaKey,w=e.shiftKey,g=e.altKey,m=a(p),E=v.toLowerCase();if(!(null!=f&&f.includes(m))&&!(null!=f&&f.includes(E))&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(m))return!1;if(!n){if(!g===r&&"alt"!==E||!w===l&&"shift"!==E)return!1;if(i){if(!y&&!h)return!1}else if(!y===s&&"meta"!==E&&"os"!==E||!h===c&&"ctrl"!==E&&"control"!==E)return!1}return!!(f&&1===f.length&&(f.includes(E)||f.includes(m)))||(f?(void 0===o&&(o=","),(d(f)?f:f.split(o)).every(function(e){return u.has(e.trim().toLowerCase())})):!f)},y=(0,o.createContext)(void 0),w=(0,o.createContext)({hotkeys:[],enabledScopes:[],toggleScope:function(){},enableScope:function(){},disableScope:function(){}}),g=function(e){e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()},m="undefined"!=typeof window?o.useLayoutEffect:o.useEffect;function E(e,t,n,r){var s,i=(0,o.useState)(null),u=i[0],E=i[1],b=(0,o.useRef)(!1),k=n instanceof Array?r instanceof Array?void 0:r:n,L=d(e)?e.join(null==k?void 0:k.splitKey):e,S=n instanceof Array?n:r instanceof Array?r:void 0,x=(0,o.useCallback)(t,null!=S?S:[]),C=(0,o.useRef)(x);S?C.current=x:C.current=t;var R=(!function e(t,n){return t&&n&&"object"==typeof t&&"object"==typeof n?Object.keys(t).length===Object.keys(n).length&&Object.keys(t).reduce(function(o,r){return o&&e(t[r],n[r])},!0):t===n}((s=(0,o.useRef)(void 0)).current,k)&&(s.current=k),s.current),A=(0,o.useContext)(w).enabledScopes,_=(0,o.useContext)(y);return m(function(){if((null==R?void 0:R.enabled)!==!1&&(e=null==R?void 0:R.scopes,0===A.length&&e?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):!!(!e||A.some(function(t){return e.includes(t)})||A.includes("*")))){var e,t=function(e,t){var n;if(void 0===t&&(t=!1),!p(e,["input","textarea","select"])||p(e,null==R?void 0:R.enableOnFormTags)){if(null!==u){var o=u.getRootNode();if((o instanceof Document||o instanceof ShadowRoot)&&o.activeElement!==u&&!u.contains(o.activeElement)){g(e);return}}(null==(n=e.target)||!n.isContentEditable||null!=R&&R.enableOnContentEditable)&&l(L,null==R?void 0:R.splitKey).forEach(function(n){var o,r,s,i=c(n,null==R?void 0:R.combinationKey);if(h(e,i,null==R?void 0:R.ignoreModifiers)||null!=(s=i.keys)&&s.includes("*")){if(null!=R&&null!=R.ignoreEventWhen&&R.ignoreEventWhen(e)||t&&b.current)return;if(("function"==typeof(o=null==R?void 0:R.preventDefault)&&o(e,i)||!0===o)&&e.preventDefault(),"function"==typeof(r=null==R?void 0:R.enabled)?!r(e,i):!0!==r&&void 0!==r){g(e);return}C.current(e,i),t||(b.current=!0)}})}},n=function(e){void 0!==e.key&&(f(a(e.code)),((null==R?void 0:R.keydown)===void 0&&(null==R?void 0:R.keyup)!==!0||null!=R&&R.keydown)&&t(e))},o=function(e){void 0!==e.key&&(v(a(e.code)),b.current=!1,null!=R&&R.keyup&&t(e,!0))},r=u||(null==k?void 0:k.document)||document;return r.addEventListener("keyup",o),r.addEventListener("keydown",n),_&&l(L,null==R?void 0:R.splitKey).forEach(function(e){return _.addHotkey(c(e,null==R?void 0:R.combinationKey,null==R?void 0:R.description))}),function(){r.removeEventListener("keyup",o),r.removeEventListener("keydown",n),_&&l(L,null==R?void 0:R.splitKey).forEach(function(e){return _.removeHotkey(c(e,null==R?void 0:R.combinationKey,null==R?void 0:R.description))})}}},[u,L,R,A]),E}},2258:(e,t,n)=>{n.d(t,{CP:()=>eu,Jv:()=>el,CI:()=>ec,wV:()=>er});var o,r,s,i,a,l=n(3528),c=n(5316),u=n.t(c,2);class d extends Error{constructor(e,t){e instanceof Error?super(void 0,{cause:{err:e,...e.cause,...t}}):"string"==typeof e?(t instanceof Error&&(t={err:t,...t.cause}),super(e,t)):super(void 0,e),this.name=this.constructor.name,this.type=this.constructor.type??"AuthError",this.kind=this.constructor.kind??"error",Error.captureStackTrace?.(this,this.constructor);let n=`https://errors.authjs.dev#${this.type.toLowerCase()}`;this.message+=`${this.message?". ":""}Read more at ${n}`}}class f extends d{}f.kind="signIn";class v extends d{}v.type="AdapterError";class p extends d{}p.type="AccessDenied";class h extends d{}h.type="CallbackRouteError";class y extends d{}y.type="ErrorPageLoop";class w extends d{}w.type="EventError";class g extends d{}g.type="InvalidCallbackUrl";class m extends f{constructor(){super(...arguments),this.code="credentials"}}m.type="CredentialsSignin";class E extends d{}E.type="InvalidEndpoints";class b extends d{}b.type="InvalidCheck";class k extends d{}k.type="JWTSessionError";class L extends d{}L.type="MissingAdapter";class S extends d{}S.type="MissingAdapterMethods";class x extends d{}x.type="MissingAuthorize";class C extends d{}C.type="MissingSecret";class R extends f{}R.type="OAuthAccountNotLinked";class A extends f{}A.type="OAuthCallbackError";class _ extends d{}_.type="OAuthProfileParseError";class U extends d{}U.type="SessionTokenError";class P extends f{}P.type="OAuthSignInError";class T extends f{}T.type="EmailSignInError";class N extends d{}N.type="SignOutError";class O extends d{}O.type="UnknownAction";class M extends d{}M.type="UnsupportedStrategy";class I extends d{}I.type="InvalidProvider";class j extends d{}j.type="UntrustedHost";class K extends d{}K.type="Verification";class H extends f{}H.type="MissingCSRF";class W extends d{}W.type="DuplicateConditionalUI";class X extends d{}X.type="MissingWebAuthnAutocomplete";class D extends d{}D.type="WebAuthnVerificationError";class V extends f{}V.type="AccountNotLinked";class F extends d{}F.type="ExperimentalFeatureNotEnabled";class $ extends d{}class J extends d{}async function q(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r="".concat(B(t),"/").concat(e);try{var s;let e={headers:{"Content-Type":"application/json",...(null==o?void 0:null===(s=o.headers)||void 0===s?void 0:s.cookie)?{cookie:o.headers.cookie}:{}}};(null==o?void 0:o.body)&&(e.body=JSON.stringify(o.body),e.method="POST");let t=await fetch(r,e),n=await t.json();if(!t.ok)throw n;return n}catch(e){return n.error(new $(e.message,e)),null}}function B(e){return"undefined"==typeof window?"".concat(e.baseUrlServer).concat(e.basePathServer):e.basePath}function z(){return Math.floor(Date.now()/1e3)}function G(e){let t=new URL("http://localhost:3000/api/auth");e&&!e.startsWith("http")&&(e="https://".concat(e));let n=new URL(e||t),o=("/"===n.pathname?t.pathname:n.pathname).replace(/\/$/,""),r="".concat(n.origin).concat(o);return{origin:n.origin,host:n.host,path:o,base:r,toString:()=>r}}var Q=n(3953);let Y={baseUrl:G(null!==(r=Q.env.NEXTAUTH_URL)&&void 0!==r?r:Q.env.VERCEL_URL).origin,basePath:G(Q.env.NEXTAUTH_URL).path,baseUrlServer:G(null!==(i=null!==(s=Q.env.NEXTAUTH_URL_INTERNAL)&&void 0!==s?s:Q.env.NEXTAUTH_URL)&&void 0!==i?i:Q.env.VERCEL_URL).origin,basePathServer:G(null!==(a=Q.env.NEXTAUTH_URL_INTERNAL)&&void 0!==a?a:Q.env.NEXTAUTH_URL).path,_lastSync:0,_session:void 0,_getSession:()=>{}},Z=null;function ee(){return new BroadcastChannel("next-auth")}function et(){return"undefined"==typeof BroadcastChannel?{postMessage:()=>{},addEventListener:()=>{},removeEventListener:()=>{}}:(null===Z&&(Z=ee()),Z)}let en={debug:console.debug,error:console.error,warn:console.warn},eo=null===(o=c.createContext)||void 0===o?void 0:o.call(u,void 0);function er(e){if(!eo)throw Error("React Context is unavailable in Server Components");let t=c.useContext(eo),{required:n,onUnauthenticated:o}=null!=e?e:{},r=n&&"unauthenticated"===t.status;return(c.useEffect(()=>{if(r){let e="".concat(Y.basePath,"/signin?").concat(new URLSearchParams({error:"SessionRequired",callbackUrl:window.location.href}));o?o():window.location.href=e}},[r,o]),r)?{data:t.data,update:t.update,status:"loading"}:t}async function es(e){var t;let n=await q("session",Y,en,e);return(null===(t=null==e?void 0:e.broadcast)||void 0===t||t)&&ee().postMessage({event:"session",data:{trigger:"getSession"}}),n}async function ei(){var e;let t=await q("csrf",Y,en);return null!==(e=null==t?void 0:t.csrfToken)&&void 0!==e?e:""}async function ea(){return q("providers",Y,en)}async function el(e,t,n){var o,r,s;let{redirect:i=!0}=null!=t?t:{},a=null!==(r=null!==(o=null==t?void 0:t.redirectTo)&&void 0!==o?o:null==t?void 0:t.callbackUrl)&&void 0!==r?r:window.location.href,l=B(Y),c=await ea();if(!c){window.location.href="".concat(l,"/error");return}if(!e||!(e in c)){window.location.href="".concat(l,"/signin?").concat(new URLSearchParams({callbackUrl:a}));return}let u="credentials"===c[e].type,d="email"===c[e].type,f="".concat(l,"/").concat(u?"callback":"signin","/").concat(e),v=await ei(),p=await fetch("".concat(f,"?").concat(new URLSearchParams(n)),{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Auth-Return-Redirect":"1"},body:new URLSearchParams({...t,csrfToken:v,callbackUrl:a})}),h=await p.json();if(i||!(u||d)){let e=null!==(s=h.url)&&void 0!==s?s:a;window.location.href=e,e.includes("#")&&window.location.reload();return}let y=new URL(h.url).searchParams.get("error"),w=new URL(h.url).searchParams.get("code");return p.ok&&await Y._getSession({event:"storage"}),{error:y,code:w,status:p.status,ok:p.ok,url:y?null:h.url}}async function ec(e){var t,n,o,r;let s=null!==(n=null!==(t=null==e?void 0:e.redirectTo)&&void 0!==t?t:null==e?void 0:e.callbackUrl)&&void 0!==n?n:window.location.href,i=B(Y),a=await ei(),l=await fetch("".concat(i,"/signout"),{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Auth-Return-Redirect":"1"},body:new URLSearchParams({csrfToken:a,callbackUrl:s})}),c=await l.json();if(et().postMessage({event:"session",data:{trigger:"signout"}}),null===(o=null==e?void 0:e.redirect)||void 0===o||o){let e=null!==(r=c.url)&&void 0!==r?r:s;window.location.href=e,e.includes("#")&&window.location.reload();return}return await Y._getSession({event:"storage"}),c}function eu(e){if(!eo)throw Error("React Context is unavailable in Server Components");let{children:t,basePath:n,refetchInterval:o,refetchWhenOffline:r}=e;n&&(Y.basePath=n);let s=void 0!==e.session;Y._lastSync=s?z():0;let[i,a]=c.useState(()=>(s&&(Y._session=e.session),e.session)),[u,d]=c.useState(!s);c.useEffect(()=>(Y._getSession=async function(){let{event:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{let t="storage"===e;if(t||void 0===Y._session){Y._lastSync=z(),Y._session=await es({broadcast:!t}),a(Y._session);return}if(!e||null===Y._session||z()<Y._lastSync)return;Y._lastSync=z(),Y._session=await es(),a(Y._session)}catch(e){en.error(new J(e.message,e))}finally{d(!1)}},Y._getSession(),()=>{Y._lastSync=0,Y._session=void 0,Y._getSession=()=>{}}),[]),c.useEffect(()=>{let e=()=>Y._getSession({event:"storage"});return et().addEventListener("message",e),()=>et().removeEventListener("message",e)},[]),c.useEffect(()=>{let{refetchOnWindowFocus:t=!0}=e,n=()=>{t&&"visible"===document.visibilityState&&Y._getSession({event:"visibilitychange"})};return document.addEventListener("visibilitychange",n,!1),()=>document.removeEventListener("visibilitychange",n,!1)},[e.refetchOnWindowFocus]);let f=function(){let[e,t]=c.useState("undefined"!=typeof navigator&&navigator.onLine),n=()=>t(!0),o=()=>t(!1);return c.useEffect(()=>(window.addEventListener("online",n),window.addEventListener("offline",o),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",o)}),[]),e}(),v=!1!==r||f;c.useEffect(()=>{if(o&&v){let e=setInterval(()=>{Y._session&&Y._getSession({event:"poll"})},1e3*o);return()=>clearInterval(e)}},[o,v]);let p=c.useMemo(()=>({data:i,status:u?"loading":i?"authenticated":"unauthenticated",async update(e){if(u)return;d(!0);let t=await q("session",Y,en,void 0===e?void 0:{body:{csrfToken:await ei(),data:e}});return d(!1),t&&(a(t),et().postMessage({event:"session",data:{trigger:"getSession"}})),t}}),[i,u]);return(0,l.jsx)(eo.Provider,{value:p,children:t})}}}]);