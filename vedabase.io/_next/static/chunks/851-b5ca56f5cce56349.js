"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[851],{5229:(e,a,t)=>{t.d(a,{A:()=>s});var n=t(3528),l=t(5316);let r=(0,l.forwardRef)((e,a)=>{let{title:t,content:r,className:s="cursor-pointer text-base relative inline-block text-left",classNamePosition:o="flex"}=e,i=(0,l.useRef)(),c=(0,l.useRef)(),[d,u]=(0,l.useState)(!1),m=()=>{u(!d),d?document.body.classList.remove("overflow-hidden"):document.body.classList.add("overflow-hidden")};return(0,l.useImperativeHandle)(a,()=>({toggleDropdown:m})),!function(e,a){(0,l.useEffect)(()=>{let t=t=>{!e.current||e.current.contains(t.target)||a(t)};return document.addEventListener("mousedown",t),document.addEventListener("touchstart",t),()=>{document.removeEventListener("mousedown",t),document.removeEventListener("touchstart",t)}},[e,a])}(c,()=>{d&&m()}),(0,n.jsxs)("div",{className:s,ref:i,children:[(0,n.jsx)("div",{onClick:m,children:t}),d&&(0,n.jsxs)("div",{"aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:[(0,n.jsx)("div",{className:"fixed inset-0 z-50 bg-vb-header-top/25 transition-opacity duration-300 backdrop-blur-sm h-screen"}),(0,n.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto h-screen",children:(0,n.jsx)("div",{className:"".concat(o," max-w-screen-xl mx-auto justify-center lg:justify-end p-4 text-center sm:p-0"),children:(0,n.jsx)("div",{ref:c,className:"relative transform overflow-hidden rounded-lg text-left text-base shadow-xl transition-all sm:my-2 sm:mr-2 w-full sm:max-w-lg",children:r})})})]})]})});r.displayName="DialogMenu";let s=r},4399:(e,a,t)=>{t.d(a,{default:()=>u});var n=t(3528),l=t(5316),r=t(4999),s=t(9120),o=t(5706),i=t(2278),c=t(3275),d=t(5229);function u(e){let{page:a,locale:t="en",activeView:r,fullLanguageName:o=!1}=e,c=(0,l.useRef)(null),u=()=>{c.current&&c.current.toggleDropdown()};(0,i.vC)("l",e=>{e.preventDefault(),u()},{});let p=void 0===a?[{display_name:"አማርኛ (Ethiopian)",language_code:"am",enabled:!0,url_path:"/am/"},{display_name:"Български (Bulgarian)",language_code:"bg",enabled:!0,url_path:"/bg/"},{display_name:"Čeština (Czech)",language_code:"cs",enabled:!0,url_path:"/cs/"},{display_name:"Dansk (Danish)",language_code:"da",enabled:!0,url_path:"/da/"},{display_name:"Deutsch (German)",language_code:"de",enabled:!0,url_path:"/de/"},{display_name:"English",language_code:"en",enabled:!0,url_path:"/en/"},{display_name:"Espa\xf1ol (Spanish)",language_code:"es",enabled:!0,url_path:"/es/"},{display_name:"Eesti keel (Estonian)",language_code:"et",enabled:!0,url_path:"/et/"},{display_name:"Suomen kieli (Finnish)",language_code:"fi",enabled:!0,url_path:"/fi/"},{display_name:"Fran\xe7ais (French)",language_code:"fr",enabled:!0,url_path:"/fr/"},{display_name:"Hrvatski (Croatian)",language_code:"hr",enabled:!0,url_path:"/hr/"},{display_name:"Magyar (Hungarian)",language_code:"hu",enabled:!0,url_path:"/hu/"},{display_name:"한국어 (Korean)",language_code:"ko",enabled:!0,url_path:"/ko/"},{display_name:"Lietuvių kalba (Lithuanian)",language_code:"lt",enabled:!0,url_path:"/lt/"},{display_name:"Nederlands (Dutch)",language_code:"nl",enabled:!0,url_path:"/nl/"},{display_name:"Polski (Polish)",language_code:"pl",enabled:!0,url_path:"/pl/"},{display_name:"Portugu\xeas (Portuguese)",language_code:"pt-br",enabled:!0,url_path:"/pt-br/"},{display_name:"Русский (Russian)",language_code:"ru",enabled:!0,url_path:"/ru/"},{display_name:"Slovenčina (Slovak)",language_code:"sk",enabled:!0,url_path:"/sk/"},{display_name:"Slovenščina (Slovenian)",language_code:"sl",enabled:!0,url_path:"/sl/"},{display_name:"Українська мова (Ukrainian)",language_code:"uk",enabled:!0,url_path:"/uk/"},{display_name:"isiZulu (Zulu)",language_code:"zu",enabled:!0,url_path:"/zu/"}]:a.language_menu;void 0===t&&(null==a?void 0:a.meta.locale)&&(t=a.meta.locale);let h=p.find(e=>e.language_code===t),x=(0,n.jsxs)("div",{className:"flex",children:[!o&&(0,n.jsx)(s.dMW,{className:"inline-block mr-1 xxxmd:mr-2 mt-[0.1875rem]"}),(0,n.jsx)("span",{className:o?"inline-block ml-1":"hidden md:inline",children:h.display_name}),!o&&(0,n.jsxs)(n.Fragment,{children:[" ",(0,n.jsx)("span",{className:"uppercase md:hidden",children:h.language_code})]})]}),g=(0,n.jsx)(m,{locale:t,activeView:r,closeMenu:u,languageMenu:p});return(0,n.jsx)(d.A,{ref:c,title:x,content:g})}function m(e){let{locale:a,activeView:t,closeMenu:d,languageMenu:u}=e,m=(0,l.useRef)(),p=(0,c.useRouter)(),[h,x]=(0,l.useState)(""),[g,b]=(0,l.useState)(-1),f=u.filter(e=>(e.display_name.toLowerCase()+e.language_code.toLowerCase()).includes(h.toLowerCase()));return(0,i.vC)("esc",()=>d(),{enableOnFormTags:["input"]}),(0,i.vC)("down",e=>{e.preventDefault(),m.current.focus(),b(e=>e+1<f.length?e+1:e)},{enableOnFormTags:["input"]}),(0,i.vC)("up",e=>{e.preventDefault(),b(e=>(m.current.focus(),e-1>-2)?e-1:e)},{enableOnFormTags:["input"]}),(0,i.vC)("enter",e=>{if(e.preventDefault(),g>-1){if(a!==f[g].language_code){let e=f[g].enabled?f[g].url_path+t.activeViewSuffix:f[g].url_path;p.push(e)}d()}},{enableOnFormTags:["input"]}),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"bg-vb-body border-vb-header-top border-8 rounded-lg",children:[(0,n.jsxs)("div",{className:"flex items-center w-full bg-vb-header-bottom border-vb-header-top py-3 px-2 sm:px-5 border-b gap-x-2",children:[(0,n.jsx)(s.dMW,{className:"shrink-0"}),(0,n.jsx)("input",{ref:m,type:"text",placeholder:"Select Language",className:"flex-1 w-auto min-w-0 max-w-full appearance-none bg-vb-header-bottom text-vb-normal-text placeholder:text-vb-normal-text border-0 focus:border-0 focus:ring-0 outline-none px-2",autoCorrect:"false",autoFocus:!0,onChange:e=>{x(e.target.value),b(""===e.target.value?-1:0)},onKeyDown:e=>{("ArrowUp"===e.key||"ArrowDown"===e.key)&&e.preventDefault()}}),(0,n.jsxs)("div",{className:"flex items-center cursor-pointer bg-vb-header-top rounded-sm px-2 py-1 uppercase text-xs shrink-0",onClick:()=>d(),children:["Esc ",(0,n.jsx)(o.U_s,{className:"ml-1"})]})]}),0===f.length&&(0,n.jsx)("div",{className:"px-5 py-3",children:'No results for "'.concat(h,'"')}),f.map((e,l)=>(0,n.jsx)("div",{onMouseEnter:()=>b(l),className:"border-vb-header-top border-b ".concat(e.enabled?"text-vb-normal-text":"text-vb-normal-text/40","\n            ").concat(l===g?" bg-vb-header-top/30":""),children:a===e.language_code?(0,n.jsxs)("div",{onClick:()=>d(),className:"cursor-pointer py-3 px-5",children:[e.display_name,(0,n.jsx)("div",{className:"float-right xmr-3 inline-block uppercase text-xs",onClick:()=>d(),children:e.language_code})]}):(0,n.jsxs)(r.default,{href:"".concat(e.url_path).concat(e.enabled&&(null==t?void 0:t.activeViewSuffix)?null==t?void 0:t.activeViewSuffix:""),className:"block py-3 px-5",onClickAction:()=>d(),children:[e.display_name,(0,n.jsx)("div",{className:"float-right xmr-3 inline-block uppercase text-xs",children:e.language_code})]})},e.language_code))]})})}},6203:(e,a,t)=>{t.d(a,{default:()=>p});var n=t(3528),l=t(5316),r=t(123),s=t(1903),o=t(8764),i=t(5706),c=t(2278),d=t(9684);function u(e){let{label:a,value:t,toggle:l}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("label",{htmlFor:"serifToggle",className:"inline-block mb-2",children:[a,":"]}),(0,n.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer float-right pr-1",children:[(0,n.jsx)("input",{id:"serifToggle",type:"checkbox",checked:t,onChange:l,className:"sr-only peer"}),(0,n.jsx)("div",{className:"w-11 h-6 bg-vb-header-top/50 ppppeer-checked:bg-vb-normal-text/30 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-vb-header-top after:border-vb-header-top after:border after:rounded-full after:h-5 after:w-5 after:transition-all"})]})]})}var m=t(5229);function p(){let e=(0,r.useTranslations)("Settings"),a=(0,l.useRef)(null),t=()=>{a.current&&a.current.toggleDropdown()};(0,c.vC)("shift+8",e=>{e.preventDefault(),t()},{});let i=(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)(s.rBU,{className:"inline-block lg:mr-2 lg:mt-0.5"}),(0,n.jsx)("span",{className:"hidden lg:inline",children:e("title")}),(0,n.jsx)(o.BNo,{className:"hidden lg:inline-block ml-2 lg:mt-0.5"})]}),d=(0,n.jsx)(h,{closeMenu:t});return(0,n.jsx)(m.A,{ref:a,title:i,content:d})}function h(e){let{closeMenu:a}=e,t=(0,r.useTranslations)("Settings"),s=(0,l.useContext)(d.A);return(0,c.vC)("esc",()=>a(),{enableOnFormTags:["input"]}),(0,n.jsx)("div",{className:"bg-vb-body border-vb-header-top border-8 rounded-lg flex space-x-5 p-4",children:(0,n.jsxs)("div",{className:"w-full flex flex-col",children:[(0,n.jsxs)("div",{className:"w-full pb-3",children:[(0,n.jsx)("div",{className:"inline-block text-xl",children:t("title")}),(0,n.jsxs)("div",{className:"flex items-center float-right cursor-pointer bg-vb-header-top/80 xxbg-img-header-top rounded-sm px-2 py-1 uppercase text-xs",onClick:()=>a(),children:["Esc ",(0,n.jsx)(i.U_s,{className:"inline-block ml-1"})]})]}),(0,n.jsxs)("div",{className:"block px-2 py-3 border-vb-header-top/60 border-b hover:bg-vb-header-top/30",children:[(0,n.jsx)("label",{htmlFor:"minmax-range",className:"block mb-2",children:t("font-size")}),(0,n.jsx)("input",{id:"fontSize",type:"range",min:"1",max:"9",value:s.fontSize?s.fontSize:5,onChange:e=>{s.setFontSize(Number(e.target.value))},className:"w-full h-2 bg-vb-header-top/40 rounded-lg appearance-none cursor-pointer accent-vb-header-top/60"})]}),(0,n.jsx)("div",{className:"block px-2 items-center py-3 border-vb-header-top/60 border-b hover:bg-vb-header-top/30",children:(0,n.jsx)(u,{label:t("dark-mode"),value:"theme-dark"===s.theme,toggle:s.toggleTheme})}),(0,n.jsx)("div",{className:"block px-2 items-center py-3 border-vb-header-top/60 hover:bg-vb-header-top/30",children:(0,n.jsx)(u,{label:t("justify-text"),value:s.justify,toggle:s.toggleJustify})}),(0,n.jsx)("div",{className:"block px-2 items-center py-3 border-vb-header-top/60 hover:bg-vb-header-top/30",children:(0,n.jsx)(u,{label:t("serif-font"),value:s.serif,toggle:s.toggleSerif})})]})})}},1644:(e,a,t)=>{t.d(a,{default:()=>x});var n=t(3528),l=t(5316),r=t(123),s=t(4999),o=t(8764),i=t(5706),c=t(2278),d=t(2258),u=t(2978),m=t(3275),p=t(2900),h=t(5229);function x(e){let{locale:a}=e,t=(0,l.useRef)(null),r=(0,m.useRouter)(),{data:i,status:x}=(0,d.wV)(),g=()=>{t.current&&t.current.toggleDropdown()};if((0,c.vC)("u",e=>{e.preventDefault(),g()},{}),"loading"===x)return(0,n.jsx)("div",{className:"animate-pulse w-6 h-6 rounded-lg bg-black bg-opacity-20"});if(!i)return(0,n.jsx)("div",{className:"w-6 h-6 cursor-pointer",children:(0,n.jsxs)(s.default,{className:"block",href:"/".concat(a,"/user/signin/"),onClick:e=>{e.preventDefault(),(0,p.F)(a,r)},children:[(0,n.jsx)(o.NBi,{className:"w-6 h-6 block opacity-60"}),(0,n.jsx)("span",{className:"sr-only",children:"Sign in"})]})});let f=(0,n.jsx)(b,{locale:a,session:i,closeMenu:g}),v=(0,n.jsx)("div",{className:"w-6 h-6 cursor-pointer",children:void 0===i.user.image?(0,n.jsx)("div",{onClick:g,className:"w-6 h-6 rounded-lg bg-teal-700 flex items-center cursor-pointer",children:(0,n.jsx)(u.x$1,{className:"w-4 h-4 block opacity-80 mx-auto text-white"})}):(0,n.jsx)("img",{onClick:g,className:"rounded-lg",src:i.user.image,alt:i.user.name})});return(0,n.jsx)(h.A,{ref:t,title:v,content:f})}function g(e){let{items:a,closeMenu:t}=e;return a.map((e,a,l)=>{let r=a!==l.length-1?"border-b ":"";return(0,n.jsxs)(s.default,{className:"block pl-2 py-3 border-vb-header-top/60 ".concat(r,"hover:bg-vb-header-top/30"),href:e.href,onClickAction:()=>t(),children:[e.icon," ",e.text]},"usermenu".concat(a))})}function b(e){let{locale:a,session:t,closeMenu:l}=e,s=(0,r.useTranslations)("Profile"),d="inline-block mr-2",m="/".concat(a,"/user/"),p=[{href:"".concat(m,"bookmarks/"),icon:(0,n.jsx)(u.U$b,{className:d}),text:s("my-bookmarks")},{href:"".concat(m,"reading-history/"),icon:(0,n.jsx)(o.OKX,{className:d}),text:s("my-reading-history")},{href:"".concat(m,"edit/"),icon:(0,n.jsx)(u.x$1,{className:d}),text:s("account-settings")},{href:"".concat(m,"signout/"),icon:(0,n.jsx)(o.axc,{className:d}),text:s("log-out")}];return(0,c.vC)("esc",()=>l(),{}),(0,n.jsxs)("div",{className:"bg-vb-body border-vb-header-top border-8 rounded-lg flex space-x-5 p-4",children:[void 0!==t.user.image&&(0,n.jsx)("img",{className:"rounded-lg w-16 h-16",src:t.user.image,alt:t.user.name}),(0,n.jsxs)("div",{className:"w-full flex flex-col",children:[(0,n.jsxs)("div",{className:"w-full pb-3",children:[(0,n.jsx)("div",{className:"inline-block text-xl",children:t.user.name}),(0,n.jsxs)("div",{className:"flex items-center float-right cursor-pointer bg-vb-header-top/80 rounded-sm px-2 py-1 uppercase text-xs",onClick:()=>l(),children:["Esc ",(0,n.jsx)(i.U_s,{className:"inline-block ml-1"})]})]}),(0,n.jsx)(g,{items:p,closeMenu:l})]})]})}},4999:(e,a,t)=>{t.r(a),t.d(a,{default:()=>r});var n=t(3528),l=t(3275);function r(e){let{ref:a,href:t,onClickAction:r=()=>{},className:s="text-vb-link hover:underline",addedClassName:o,children:i}=e,c=(0,l.useRouter)();return(0,n.jsx)("a",{ref:a,href:t,className:o?"".concat(s," ").concat(o):s,onMouseOver:function(e){c.prefetch(t)},onClick:e=>{e.metaKey||e.ctrlKey||(e.preventDefault(),r(),c.push(t))},children:i})}},9684:(e,a,t)=>{t.d(a,{A:()=>i,S:()=>o});var n=t(3528),l=t(5316),r=t(3730);let s=(0,l.createContext)({theme:"",fontSize:0,justify:!0,serif:!0,changeAppSettings:function(e,a){},toggleTheme:function(){},increaseFontSize:function(){},deacreaseFontSize:function(){},setFontSize:function(){},toggleSerif:function(){},toggleJustify:function(){}});function o(e){let{children:a}=e,[t,l]=(0,r.A)("appSettings",{theme:void 0,fontSize:0,justify:!0,serif:!0},{debounce:1500}),o={...t,changeAppSetting:i,toggleTheme:function(){"theme-dark"!==t.theme?i("theme","theme-dark"):i("theme","theme-light")},increaseFontSize:function(){let e=t.fontSize;0===e&&(e=5),(e+=1)>9&&(e=9),i("fontSize",e)},decreaseFontSize:function(){let e=t.fontSize;0===e&&(e=5),(e-=1)<1&&(e=1),i("fontSize",e)},setFontSize:function(e){e<1&&(e=1),e>9&&(e=9),i("fontSize",e)},toggleSerif:function(){i("serif",!t.serif)},toggleJustify:function(){i("justify",!t.justify)}};function i(e,a){let n={...t};n[e]=a,l(n)}return(0,n.jsx)(s.Provider,{value:o,children:a})}let i=s},698:(e,a,t)=>{t.d(a,{default:()=>i});var n=t(3528),l=t(5316),r=t(2278),s=t(123),o=t(3275);function i(e){let{locale:a,className:t="w-auto space-x-3 px-4 py-1 h-10"}=e,i=(0,s.useTranslations)("Search"),c=(0,l.useRef)(),d=(0,o.useRouter)();(0,r.vC)(["/","mod+k"],e=>{e.preventDefault(),c.current.focus()},{}),(0,r.vC)(["esc"],e=>{c.current.value="",c.current.blur()},{enableOnFormTags:["input"]});let u="/".concat(a,"/search/");return(0,n.jsx)("div",{className:"relative inline-block text-left",children:(0,n.jsxs)("div",{className:"bg-vb-body/50 border border-vb-bodyxx border-vb-header-top/70 flex items-center text-left shadow-sm rounded-lg text-vb-normal-text/70 cursor-pointer ".concat(t),children:[(0,n.jsxs)("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"flex-none","aria-hidden":"true",children:[(0,n.jsx)("path",{d:"m19 19-3.5-3.5"}),(0,n.jsx)("circle",{cx:"11",cy:"11",r:"6"})]}),(0,n.jsx)("form",{action:u,children:(0,n.jsx)("input",{ref:c,name:"query",type:"text",placeholder:i("query-placeholder"),className:"appearance-none flex-1 bg-transparent text-vb-normal-text placeholder:text-vb-normal-text/90 border-0 focus:border-0 focus:ring-0 outline-none mr-2 w-full",autoCorrect:"false",onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),d.push("".concat(u,"?").concat(new URLSearchParams({query:e.target.value}))))}})})]})})}},2917:(e,a,t)=>{t.d(a,{default:()=>i});var n=t(3528),l=t(1068),r=t(123),s=t(4999);let o=e=>fetch(e).then(e=>e.json());function i(e){let{donors:a="",locale:t="en"}=e,i=(0,r.useTranslations)("SupportUs"),c="/".concat(t,"/donate/"),{data:d,error:u,isLoading:m}=(0,l.Ay)("/api/footer-text/",o,{refreshInterval:18e4,revalidateOnMount:!1,fallbackData:{donors:a}}),p=null;return u?(0,n.jsx)(n.Fragment,{}):(m||(p=""===d.donors?null:i.rich("thanks-to-and-others",{donors:()=>(0,n.jsx)("span",{dangerouslySetInnerHTML:{__html:d.donors}}),supportLink:e=>(0,n.jsx)(s.default,{prefetch:!1,href:c,children:e})})),(0,n.jsx)("div",{className:"px-4 py-4 w-full max-w-screen-xl mx-auto md:px-8 text-sm text-vb-normal-text/80",children:(0,n.jsxs)("div",{className:"py-2 px-3 border border-dashed border-vb-normal-text/15 text-justify relative ",children:[(0,n.jsx)(s.default,{className:"z-20 float-right my-2 ml-3 w-auto border border-vb-action-border bg-vb-action-bg hover:bg-vb-action-bg/80 rounded-md text-vb-action-text py-3 px-6 text-center disabled:opacity-50",href:c,children:i("donate")}),p?(0,n.jsx)("span",{className:"flex-grow",children:p}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"animate-pulse h-2 bg-vb-normal-text/20 rounded-full dark:bg-gray-700 w-auto mr-40 mb-2.5"}),(0,n.jsx)("div",{className:"animate-pulse h-2 bg-vb-normal-text/25 rounded-full dark:bg-gray-700 w-auto mr-40 mb-2.5"}),(0,n.jsx)("div",{className:"animate-pulse h-2 bg-vb-normal-text/20 rounded-full dark:bg-gray-700 w-auto mr-36 mb-2.5"}),(0,n.jsx)("div",{className:"animate-pulse h-2 bg-vb-normal-text/30 rounded-full dark:bg-gray-700 w-auto mr-44 mb-2.5"}),(0,n.jsx)("div",{className:"animate-pulse h-2 bg-vb-normal-text/25 rounded-full dark:bg-gray-700 mb-2.5"}),(0,n.jsx)("div",{className:"animate-pulse h-2 bg-vb-normal-text/25 rounded-full dark:bg-gray-700 mb-2.5"}),(0,n.jsx)("div",{className:"animate-pulse h-2 bg-vb-normal-text/20 rounded-full dark:bg-gray-700 max-w-[300px] mb-2.5"}),(0,n.jsx)("span",{className:"sr-only",children:"Loading..."})]})]})}))}},3730:(e,a,t)=>{t.d(a,{A:()=>l});var n=t(5316);function l(e,a){let[t,l]=(0,n.useState)(a),r=(0,n.useRef)(!0);return(0,n.useEffect)(()=>{if(r.current){let t=localStorage.getItem(e);t?l(JSON.parse(t)):l(a),r.current=!1;return}try{let a=JSON.stringify(t);localStorage.setItem(e,a),document.cookie="".concat(e,"=").concat(encodeURIComponent(a),"; expires=").concat(new Date(Date.now()+864e5).toUTCString(),"; path=/")}catch(e){}},[t,e,a]),[t,l]}},2900:(e,a,t)=>{function n(e,a){let t=window.location.href,n=[/^.*\/user\/password-reset\/.*$/].some(e=>e.test(t))?"":"?".concat(new URLSearchParams({callbackUrl:t}));a.push("".concat("/".concat(e,"/user/signin/")).concat(n))}t.d(a,{F:()=>n}),t(3275)}}]);